{% extends "base.html" %}
    {% block head %}
        <title>Mixture Spectra Simulation</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <script src="/js/jquery.csv.min.js"></script>
        <script src="/js/jquery.serialize-object.min.js"></script>
        <script>{{entry_list|safe}}</script>
        <script src="/js/mixture.js" defer></script>

    {% endblock %}

    {% block body %}
    <div class="details_box">
        <h1>Mixture Spectra Simulation</h1>

        <noscript><h2>This page requires JavaScript.</h2><style>.jsonly { display: none }</style></noscript>
        <div class="jsonly">
            <P>Load a compound list from a CSV file: <input type="file" name="experiment_file" id="experiment_file" onchange="openFile()" accept="text/csv">
                <button id="reprocess" style="display:none" onclick="openFile()">Reprocess File</button>
                <button onclick="clearCompounds(); return false;">Clear Compounds</button>
            </p>
            <div id="message" style="color: red"></div>

            <form method="post" action="" id="upload" enctype="multipart/form-data">
                <table class="alternating">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Compound Name</th>
                            <th>Compound ID</th>
                            <th>Compound Concentration</th>
                            <th>Reference Compound</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr id="compound_anchor"></tr>
                    </tbody>
                </table>
                <p>Add compound: <input type="text" id="compound_search"></p>
                <input type="submit" value="Generate Spectra">
            </form>
            <div id="results">
            </div>
        </div>
    </div>

    {% endblock %}
